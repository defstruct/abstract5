* Admins
  - Root admin can do editing configuration file.
    E.g. DB configuration and multi-site configuration
    The information stored in root.conf
    The file is only editable on localhost with a editor

  - Site admin is any site related configuration
    The information sotred in DB.
    Edit via web interface

* URI
  - For single pages, /single-page/operation?arg1=v1&arg2=v2, etc
  - For DB stored pages,
        /db/stored/long/page/operation?arg1=v1&arg2=v2
	or
	/db/stored/long/page/item?arg1=v1&arg2=v2

* Multi-site
  - The standard instances storage is abstract5/site-instances/
  - The root site abstract5/site-instances/root is common shared resource for all other sites
  - Each site has different DB schema (PostgreSQL)

* Exec order
  - Get view, model, controller
  - View has theme, page
  - Get 'theme' for the requested page
  - Get 'page-type' for the requested page
  - If page-type found, use it. Otherwise use 'default' definition
  - For single-page, use single-page.html(view.php)

* A page = collection of blocks, ..., etc

* Area = block container

* Plugin
  - Status - unloaded, activated, inactive
  - Operations - Load, activate, deactivate

* MVC (http://andrewembler.com/posts/basic-mvc-in-concrete5/)

  - View
    <form method="post" action="<!-- TMPL_VAR search-user -->">
        <input type="text" name="uName" value="" />
    	<input type="submit" value="Search" />
    </form>

  - Controller - return environment to view
    (:search-user (make-action-uri :action :search-user))

    (:second-search-user (make-action-uri :uri "/path/to/second/single/page" :action :second-search-user))

  - URI and controller mapping
       http://www.yoursite.com/index.php/calculator/
      (define-single-page calculator ("calculator")
	:actions ((multiply ((a number) (b number))
			(* a b))
		     ... more actions ...
		     ))

      (:calc-mult-5-10 (make-action-uri calculator multiply 5 10))

  - View
    <a href="<!-- TMPL_VAR calc-mult-5-10 -->">Multiply Here!</a>

  - Controller and View
    :actions ((search-user ((user-name string))
    	         (:user-name-posted user-name)))

    <!-- TMPL_VAR user-name-posted -->

* Ex - http://andrewembler.com/posts/custom-concrete5-user-reports/
;; NB: user-visited-page-list and :site are a key to map request to MVC component
;; Internal key is - :!TEST!-USER-VISITED-PAGE-LIST
(define-mvc user-visited-page-list (:site test) ;; without :site, it is visible to all sites
  :model ((:inherit (user-list))
	  (:slots   (filters))
	  (:methods ((get-page ((user-visited-page-list user-visited-page-list) filters)
			       "return user objects"))))
  :view ((:uri  "/user-visited-page-list") ;; will map test.domain/user-visited-page-list
	 ;; map site-instances/test/components/user-visited-page-list.html
	 ;; or  site-instances/root/components/user-visited-page-list.html (when no :site)
	 (:html "component/user-visited-page-list.html")
	 )
  :controller ((:methods ((search-users ((controller user-visited-page-list) :page-id :dt-from :dt-to :num-results)
			    ;; send this to view
			    (:user-email-class ""
			     :user-email-href ""
			     :first-name-class ""
			     :first-name-href ""
			     :second-name-class ""
			     :second-name-href ""
			     ...
			     :loop-result
			     ((:user-id ""
			       :user-id-href ""
			       :first-name ""
			       :last-name ""
			       ...)
			      (:user-id ""
			       :user-id-href ""
			       :first-name ""
			       :last-name ""
			       ...)
			      ...)))))))





    (define-plugin :hello-dolly
    		   :name "Hello Dolly"
		   :uri "http://wordpress.org/extend/plugins/hello-dolly/"
		   :description "This is not just a plugin, it symbolizes the hope and enthusiasm of an entire generation summed up in two words sung most famously by Louis Armstrong: Hello, Dolly. When activated you will randomly see a lyric from <cite>Hello, Dolly</cite> in the upper right of your admin screen on every page."
		   :author "J. C."
    		   :author-uri ""
    		   :version "1.0"
    		   :hook dolly-css)

* Example HTML structure
    <!-- TMPL_LOOP theme-css-files -->
    <link rel='stylesheet' media='screen' type='text/css' href='<!-- TMPL_VAR css-file -->' />
    <!-- /TMPL_LOOP -->
    <!-- TMPL_LOOP theme-js-files -->
    <script type='text/javascript' src='<!-- TMPL_VAR js-file -->'></script>
    <!-- /TMPL_LOOP -->

    <!-- TMPL_CALL html-header -->

    <!-- FIXME: html-header may have -
	 <meta http-equiv="content-type" content="text/html; charset=<?php  echo APP_CHARSET?>" />
	 meta title
	 meta description
	 meta keywords
	 meta robots
	 meta generator

	 title

	 inline js

	 FAVICON:
	 link rel='shorcut icon'
	 link rel='icon'

	 more javascripts - check concrete5 pages (see header_required.php)

	 -->
